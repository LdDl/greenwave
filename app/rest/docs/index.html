<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
        .btn {
            width: 90px;
            height: 32px;
            font-size:13px;
            background-color: #47AFE8;
            color: #fff;
            border: none;
            margin: 0 2px;
            border-radius: 2px;
            cursor:pointer;
            outline:none;
        }
        .picker {
            width: 100px;
            height: 30px;
            font-size:13px;
            background-color: transparent;
            border: 1px solid #47AFE8;
            color: #fff;
            padding:0 8px;
            margin: 0 2px;
            border-radius: 2px;
            outline:none;
        }
        .picker * {
            border-radius: 15px;
            background-color: #3d3d3d;
        }
        rapi-doc {
            width:100%;
        }
    </style>
    <script type="module" src="https://unpkg.com/rapidoc@8.4.9/dist/rapidoc-min.js"></script>
    <script>
        var links = [
            {"name": "Green waves API", "url": "/api/greenwave/docs/swagger.json"},
        ]
        function pickDropdownElement() {
          const dropdownEl = document.getElementById('select-element');
          docEl.setAttribute('spec-url', dropdownEl.value);
        }
    </script>
  </head>
  <body>
    <rapi-doc
        id='thedoc'
        spec-url='https://petstore.swagger.io/v2/swagger.json'
        theme = "dark"
    >   
        <div id="dropdown-data" slot='header'>
            <select id='select-element' class='picker'> </select>
            <button class='btn' onclick='pickDropdownElement()'>Pick</button>
            <span id="header-msg"></span>
        </div>
        <script>
            const docEl = document.getElementById('thedoc');
            docEl.setAttribute('spec-url', links[0].url);
            const dropdownEl = document.getElementById('select-element');
            links.forEach(elem => {
                let option = document.createElement("option");
                option.value = elem.url;
                option.text = elem.name;
                dropdownEl.appendChild(option);
            });
        </script>
  </rapi-doc>
  </body>
</html>